groups:
- name: hefa-api
  rules:
  - alert: HefaDown
    expr: up{job="hefa-api"} == 0
    for: 2m
    labels: { severity: critical }
    annotations: 
      summary: "HEFA API is down"
      description: "Prometheus cannot scrape /metrics for job=hefa-api." 

  - alert: High_Memory_Usage
    expr: process_resident_memory_bytes{job="hefa-api"} > 1.5e9
    for: 10m
    labels:
        severity: warning
    annotations:
      summary: "HEFA API memory high"
      description: "Resident memory > 1.5GB for 10m."